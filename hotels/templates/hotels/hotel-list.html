
{% extends 'base.html' %}
{% load hotels_tags %}

{% load static %}
{% load humanize %}

        <!-- Title -->
{% block title %}برو بیا | {{ city.faname }}{% endblock %}
{% block header %}
    <script src='https://api.mapbox.com/mapbox-gl-js/v0.44.2/mapbox-gl.js'></script>
    <link href='https://api.mapbox.com/mapbox-gl-js/v0.44.2/mapbox-gl.css' rel='stylesheet' />
    <link href="{% static 'js/date-picker/assets/css/daterangepicker.css' %}" rel="stylesheet" type="text/css" media="all" />
    <link href="{% static 'js/date-picker/assets/css/datepicker-theme.css' %}" rel="stylesheet" type="text/css" media="all"  />
{% endblock %}
{% block content %}

{% include 'include/list-header.html' %}
        <!-- ========== MAIN CONTENT ========== -->
        <main id="content" role="main">
            <div class="container pt-5 pt-xl-8">
                <div class="row mb-5 mb-lg-8 mt-xl-1">
                    <div class="col-lg-4 col-xl-3 order-lg-1 width-md-50">
                        <div class="navbar-expand-lg navbar-expand-lg-collapse-block">
                            <button class="btn d-lg-none mb-5 p-0 collapsed" type="button" data-toggle="collapse" data-target="#sidebar" aria-controls="sidebar" aria-expanded="false" aria-label="ناوبری را تغییر دهید">
                                <i class="far fa-caret-square-down text-warning font-size-20 card-btn-arrow ml-0"></i>
                                <span class="text-warning ml-2">نوار کناری</span>
                            </button>
                            <div id="sidebar" class="collapse navbar-collapse">

                                <div class="mb-6 w-100">
                                <form id="myForm" action="" method="GET" class="js-validate">
                                    <div class="pb-4 mb-2">
                                        <div class="sidebar border border-color-1 rounded-xs">
                                            <div class="p-4 mb-1">
                                                <!-- Input -->
                                                <span class="d-block text-gray-1  font-weight-normal mb-0 text-left">نام مقصد یا هتل</span>
                                                <div class="mb-4">
                                                    <div class="input-group border-bottom border-width-2 border-color-1">
{#                                                        <i class="flaticon-pin-1 d-flex align-items-center mr-2 text-warning font-weight-semi-bold font-size-22"></i>#}
                                                        <select id="searchInput"  class="js-select selectpicker dropdown-select tab-dropdown col-12 pl-0 flaticon-pin-1 d-flex align-items-center text-warning font-weight-semi-bold" title={{ city.faname }}-{{ city.name }} data-style="" data-live-search="true" data-searchbox-classes="input-group-sm">
                                                            {% for city in cities %}

                                                                <option  class="border-bottom border-color-1 flaticon-pin-1" value="{{ city.slug }}" data-content="
                                                                    <span  class='d-flex align-items-center'>
                                                                        <span class='font-size-16 '> {{ city.faname }} - {{ city.name }} </span>
                                                                    </span>">
                                                            </option>
                                                            {% endfor %}
                                                        </select>
                                                    </div>
                                                </div>
                                                <!-- End Input -->
                                                <!-- Input -->
                                                <div class="mb-4">
                                                    <div class="border-bottom border-width-2 border-color-1">
                                                        {% include 'include/date-picker.html' %}
                                                    </div>
                                                </div>
                                                <!-- End Input -->

                                                <!-- Input -->
                                                <span class="d-block text-gray-1 font-weight-normal mb-0 text-left">اتاق ها و مهمانان</span>
                                                <div class="mb-4 position-relative">
                                                    <div class="border-bottom border-width-2 border-color-1">
                                                        <a id="basicDropdownClickInvoker" class="dropdown-nav-link dropdown-toggle flex-horizontal-center pt-3 pb-2" href="javascript:;" role="button" aria-controls="basicDropdownClick" aria-haspopup="true" aria-expanded="false" data-unfold-event="click" data-unfold-target="#basicDropdownClick" data-unfold-type="css-animation" data-unfold-duration="300" data-unfold-delay="300" data-unfold-hide-on-scroll="true" data-unfold-animation-in="slideInUp" data-unfold-animation-out="fadeOut">
                                                            <i class="flaticon-add-group d-flex align-items-center mr-3 font-size-20 text-warning font-weight-semi-bold"></i>
                                                            <span class="text-black font-weight-medium font-size-15 mr-auto" id="roomInfo">2 اتاق - 3 مهمان</span>
                                                        </a>
                                                        <div id="basicDropdownClick" class="dropdown-menu dropdown-unfold col m-0" aria-labelledby="basicDropdownClickInvoker">
                                                            <div class="w-100 py-2 px-3 mb-3">
                                                                <div class="js-quantity mx-3 row align-items-center justify-content-between">
                                                                    <span class="d-block font-size-16 text-secondary font-weight-medium">اتاق ها</span>
                                                                    <div class="d-flex">
                                                                        <a class="js-minuss btn btn-icon btn-medium btn-outline-secondary rounded-circle" href="javascript:;">
                                                                            <small class="fas fa-minus btn-icon__inner"></small>
                                                                        </a>
                                                                        <input id="roomInput" class="js-result form-control h-auto border-0 rounded p-0 max-width-6 text-center" type="text" value="1">
                                                                        <a class="js-pluss btn btn-icon btn-medium btn-outline-secondary rounded-circle" href="javascript:;">
                                                                            <small class="fas fa-plus btn-icon__inner"></small>
                                                                        </a>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="w-100 py-2 px-3 mb-3">
                                                                <div class="js-quantity mx-3 row align-items-center justify-content-between">
                                                                    <span class="d-block font-size-16 text-secondary font-weight-medium">بزرگسالان</span>
                                                                    <div class="d-flex">
                                                                        <a class="js-minuss btn btn-icon btn-medium btn-outline-secondary rounded-circle" href="javascript:;">
                                                                            <small class="fas fa-minus btn-icon__inner"></small>
                                                                        </a>
                                                                        <input class="js-result form-control h-auto border-0 rounded p-0 max-width-6 text-center" id="passInput" type="text" value="1">
                                                                        <a class="js-pluss guest-plus btn btn-icon btn-medium btn-outline-secondary rounded-circle" href="javascript:;">
                                                                            <small class="fas fa-plus btn-icon__inner"></small>
                                                                        </a>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="w-100 py-2 px-3">
                                                                <div class="js-quantity mx-3 row align-items-center justify-content-between">
                                                                    <span class="d-block font-size-16 text-secondary font-weight-medium">کودک</span>
                                                                    <div class="d-flex">
                                                                        <a class="js-minus btn btn-icon btn-medium btn-outline-secondary rounded-circle" href="javascript:;">
                                                                            <small class="fas fa-minus btn-icon__inner"></small>
                                                                        </a>
                                                                        <input id="childInput" class="js-result form-control h-auto border-0 rounded p-0 max-width-6 text-center " type="text" value="1">
                                                                        <a class="js-plus btn btn-icon btn-medium btn-outline-secondary rounded-circle" href="javascript:;">
                                                                            <small class="fas fa-plus btn-icon__inner"></small>
                                                                        </a>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="w-100 text-right py-1 pr-5">
                                                                <button type="button" class="btn btn-warning transition-3d-hover done-link font-weight-semi-bold font-size-16" >انجام شده</button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!-- End Input -->

                                                <div class="text-center">
                                                    <button type="submit" class="btn btn-warning height-60 w-100 font-weight-bold mb-xl-0 mb-lg-1 transition-3d-hover"><i class="flaticon-magnifying-glass mr-2 font-size-17"></i>جستجو کردن</button>
                                                </div>

                                            </div>

                                        </div>

                                    </div>
                                </form>
                                    <div class="pb-4 mb-2">
                                        <!-- On Target Modal -->
                                        <div id="ontargetModal" class="js-modal-window u-modal-window max-height-100vh width-100vw overflow-hidden" data-modal-type="ontarget" data-open-effect="zoomIn" data-close-effect="zoomOut" data-speed="500">
                                            <div class="bg-white">
                                                <div class="border-bottom py-xl-2">
                                                    <div class="row d-block d-md-flex flex-horizontal-center mx-0">
                                                        <div class="col-xl">
                                                            <!-- Nav Links -->
                                                            <ul class="row nav align-items-center py-xl-1 px-0 mb-3 mb-xl-0 border-bottom border-xl-bottom-0" role="tablist">
                                                                <li class="col-6 col-md-3 col-lg-auto border-bottom border-xl-bottom-0 mx-0 col-xl-auto nav-item d-flex align-items-center flex-shrink-0 flex-xl-shrink-1">
                                                                    <select class="js-select selectpicker dropdown-select bootstrap-select__custom-nav w-xl-auto" data-style="btn-sm py-2 px-3 px-xl-3 px-wd-4 font-size-16 text-dark d-flex align-items-center">
                                                                        <option value="one" selected="">شهر</option>
                                                                        <option value="two">دو</option>
                                                                        <option value="three">سه</option>
                                                                        <option value="four">چهار</option>
                                                                    </select>
                                                                </li>
                                                                <li class="col-6 col-md-3 col-lg-auto border-bottom border-xl-bottom-0 mx-0 col-xl-auto nav-item d-flex align-items-center flex-shrink-0 flex-xl-shrink-1 border-right">
                                                                    <select class="js-select selectpicker dropdown-select bootstrap-select__custom-nav w-xl-auto" data-style="btn-sm py-2 px-3 px-xl-3 px-wd-4 font-size-16 text-dark d-flex align-items-center">
                                                                        <option value="one" selected="">قیمت</option>
                                                                        <option value="two">دو</option>
                                                                        <option value="three">سه</option>
                                                                        <option value="four">چهار</option>
                                                                    </select>
                                                                </li>
                                                                <li class="col-6 col-md-3 col-lg-auto border-bottom border-xl-bottom-0 mx-0 col-xl-auto nav-item d-flex align-items-center flex-shrink-0 flex-xl-shrink-1 border-right">
                                                                    <select class="js-select selectpicker dropdown-select bootstrap-select__custom-nav w-xl-auto" data-style="btn-sm py-2 px-3 px-xl-3 px-wd-4 font-size-16 text-dark d-flex align-items-center">
                                                                        <option value="one" selected="">ستاره ها</option>
                                                                        <option value="two">دو</option>
                                                                        <option value="three">سه</option>
                                                                        <option value="four">چهار</option>
                                                                    </select>
                                                                </li>
                                                                <li class="col-6 col-md-3 col-lg-auto border-bottom border-xl-bottom-0 mx-0 col-xl-auto nav-item d-flex align-items-center flex-shrink-0 flex-xl-shrink-1 border-right">
                                                                    <select class="js-select selectpicker dropdown-select bootstrap-select__custom-nav w-xl-auto" data-style="btn-sm py-2 px-3 px-xl-3 px-wd-4 font-size-16 text-dark d-flex align-items-center">
                                                                        <option value="one" selected="">رتبه بندی مهمان</option>
                                                                        <option value="two">دو</option>
                                                                        <option value="three">سه</option>
                                                                        <option value="four">چهار</option>
                                                                    </select>
                                                                </li>
                                                                <li class="col-6 col-md-3 col-lg-auto border-bottom border-xl-bottom-0 mx-0 col-xl-auto nav-item d-flex align-items-center flex-shrink-0 flex-xl-shrink-1 border-right">
                                                                    <select class="js-select selectpicker dropdown-select bootstrap-select__custom-nav w-xl-auto" data-style="btn-sm py-2 px-3 px-xl-3 px-wd-4 font-size-16 text-dark d-flex align-items-center">
                                                                        <option value="one" selected="">وعده های غذایی</option>
                                                                        <option value="two">دو</option>
                                                                        <option value="three">سه</option>
                                                                        <option value="four">چهار</option>
                                                                    </select>
                                                                </li>
                                                                <li class="col-6 col-md-3 col-lg-auto border-bottom border-xl-bottom-0 mx-0 col-xl-auto nav-item d-flex align-items-center flex-shrink-0 flex-xl-shrink-1 border-right">
                                                                    <select class="js-select selectpicker dropdown-select bootstrap-select__custom-nav w-xl-auto" data-style="btn-sm py-2 px-3 px-xl-3 px-wd-4 font-size-16 text-dark d-flex align-items-center">
                                                                        <option value="one" selected="">امکانات</option>
                                                                        <option value="two">دو</option>
                                                                        <option value="three">سه</option>
                                                                        <option value="four">چهار</option>
                                                                    </select>
                                                                </li>
                                                                <li class="col-6 col-md-3 col-lg-auto border-bottom border-xl-bottom-0 mx-0 col-xl-auto nav-item d-flex align-items-center flex-shrink-0 flex-xl-shrink-1 border-right">
                                                                    <select class="js-select selectpicker dropdown-select bootstrap-select__custom-nav w-xl-auto" data-style="btn-sm py-2 px-3 px-xl-3 px-wd-4 font-size-16 text-dark d-flex align-items-center">
                                                                        <option value="one" selected="">نوع ملک</option>
                                                                        <option value="two">دو</option>
                                                                        <option value="three">سه</option>
                                                                        <option value="four">چهار</option>
                                                                    </select>
                                                                </li>
                                                            </ul>
                                                            <!-- End Nav Links -->
                                                        </div>
                                                        <div class="col-xl-auto">
                                                            <div class="d-flex justify-content-center justify-content-xl-start">
                                                                <button type="button" class="btn btn-wide btn-blue-1 font-weight-normal font-size-14 rounded-xs mb-3 mb-xl-0" aria-label="نزدیک" onclick="Custombox.modal.close();">
                                                                    <span aria-hidden="true">بازگشت به لیست هتل</span>
                                                                    <i class="fas fa-times font-size-15 ml-3"></i>
                                                                </button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="height-100vh-72">
                                                    <div class="row no-gutters">
                                                        <div class="col-lg-5 col-xl-4 col-wd-3gdot5 order-1 order-lg-0">
                                                            <div class="pt-4 px-4 px-xl-5">
                                                                <div class="mb-4">
                                                                    <div class="mb-2 text-gray-1">
                                                                        50 هتل از 3771 هتل نشان داده شده است
                                                                    </div>
                                                                    <select class="form-control js-select selectpicker dropdown-select" required="" data-msg="Please select option." data-error-class="u-has-error" data-success-class="u-has-success" data-style="form-control font-size-14 border-width-2 border-gray font-weight-normal">
                                                                        <option value="One" selected="">پیشنهاد بروبیا</option>
                                                                        <option value="Two">کم به زیاد</option>
                                                                        <option value="Three">بالا به پایین</option>
                                                                        <option value="Four">محبوب</option>
                                                                    </select>
                                                                </div>
                                                                <div class="js-scrollbar height-100vh-72">
                                                                    <ul class="d-block list-unstyled">


                                                                        <li class="card mb-4 overflow-hidden">
                                                                            <div class="product-item__outer w-100">
                                                                                <div class="row">
                                                                                    <div class="col-md-6">
                                                                                        <div class="product-item__header">
                                                                                            <div class="position-relative">
                                                                                                <a href="#" class="d-block gradient-overlay-half-bg-gradient-v5"><img class="img-fluid min-height-150 card-img-top" src="{% static 'img/300x230/img58.jpg' %}"></a>
                                                                                            </div>
                                                                                            <div class="position-absolute top-0 left-0 pt-3 pl-4">
                                                                                                <button type="button" class="btn btn-sm btn-icon text-white rounded-circle" data-toggle="tooltip" data-placement="top" title="" data-original-title="ذخیره کردن">
                                                                                                    <span class="flaticon-valentine-heart"></span>
                                                                                                </button>
                                                                                            </div>
                                                                                           <div class="position-absolute bottom-0 left-0 right-0 rtl">
                                                                                                <div class="px-4 pb-3">
                                                                                                    <a href="#" class="d-block">
                                                                                                        <div class="d-flex align-items-center font-size-14 text-white">
                                                                                                            <i class="icon flaticon-pin-1 mr-2 font-size-20"></i>لندن
                                                                                                        </div>
                                                                                                    </a>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="col-md-6 flex-horizontal-center">
                                                                                        <div class="w-100 position-relative m-4 m-md-0">
                                                                                            <div class="mb-1 pb-1">
                                                                                                <span class="green-lighter ml-2">
                                                                                                    <small class="fas fa-star font-size-10"></small>
                                                                                                    <small class="fas fa-star font-size-10"></small>
                                                                                                    <small class="fas fa-star font-size-10"></small>
                                                                                                    <small class="fas fa-star font-size-10"></small>
                                                                                                    <small class="fas fa-star font-size-10"></small>
                                                                                                </span>
                                                                                            </div>
                                                                                            <a href="#">
                                                                                                <span class="font-weight-bold font-size-17 text-dark d-flex mb-1">خلیج کازوی امپایر پرستیژ</span>
                                                                                            </a>
                                                                                            <div class="card-body p-0">
                                                                                                <div class="my-2">
                                                                                                    <span class="badge badge-pill badge-warning py-1 px-2 font-size-14 border-radius-3 font-weight-normal">4.6/5 </span>
                                                                                                    <span class="font-size-14 text-gray-1 ml-2">(166 بررسی)</span>
                                                                                                </div>
                                                                                                <div class="mb-0">
                                                                                                    <span class="mr-1 font-size-14 text-gray-1">از </span>
                                                                                                    <span class="font-weight-bold">350 تومان </span>
                                                                                                    <span class="font-size-14 text-gray-1">/ شب</span>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </li>
                                                                    </ul>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col-lg-7 col-xl-8 col-wd-8gdot5">
                                                            <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d15544.315136188916!2d80.28787859999998!3d13.09419335!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x7f6b00bf787831af!2sApollo%20City%20Centre%20Hospital%20Sowcarpet!5e0!3m2!1sen!2sin!4v1580992215999!5m2!1sen!2sin" width="100%" height="100%" frameborder="0" style="border:0;" allowfullscreen=""></iframe>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- End On Target Modal -->
                                    </div>

                                    <div class="sidenav  rounded-xs">
                                        <!-- Accordiaon -->

                                        <!-- End Accordion -->
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                    <div class="col-lg-8 col-xl-9 order-md-1 order-lg-2 pb-5 pb-lg-0">
                        <!-- Shop-control-bar Title -->
                        <div class="d-flex justify-content-between align-items-center mb-4">
                            <h3 class="font-size-21 font-weight-bold mb-0 text-lh-1"> نتیجه جستوجو در {{ hotel_count }} هتل {{ city.faname }}:</h3>
                            <ul class="nav tab-nav-shop flex-nowrap" id="pills-tab" role="tablist">
                                <li class="nav-item">
                                    <a class="nav-link font-size-22 p-0" id="pills-three-example1-tab" data-toggle="pill" href="#pills-three-example1" role="tab" aria-controls="pills-three-example1" aria-selected="true">
                                        <div class="d-md-flex justify-content-md-center align-items-md-center">
                                            <i class="fa fa-list"></i>
                                        </div>
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link font-size-22 p-0 ml-2 active" id="pills-one-example1-tab" data-toggle="pill" href="#pills-one-example1" role="tab" aria-controls="pills-one-example1" aria-selected="false">
                                        <div class="d-md-flex justify-content-md-center align-items-md-center">
                                            <i class="fa fa-th"></i>
                                        </div>
                                    </a>
                                </li>
                            </ul>
                        </div>
                        <!-- End shop-control-bar Title -->

                        <!-- Slick Tab carousel -->
                        <div class="u-slick__tab">
                            <!-- Nav Links -->

                            <div class="mb-5 d-flex">
                                <ul class="nav nav-tabs justify-content-center filter-hotel-list d-flex justify-content-center align-items-center" role="tablist">
                                    <li class="nav-item">
                                        <a href="?{% if request.GET.page %}{% if page.has_next %}page={{ page.next_page_number }}{% endif %}{% if page.has_previous %}page={{ page.previous_page_number }}{% endif %}{% endif %}&sort_select=suggest{% if request.GET.date %}&date={{ request.GET.date }}{% endif %}{% if request.GET.passengers %}&passengers={{ request.GET.passengers }}{% endif %}{% if request.GET.children %}&children={{ request.GET.children }}{% endif %}{% if request.GET.room %}&room={{ request.GET.room }}{% endif %}{% if request.GET.facilities %}&facilities={{ request.GET.facilities }}{% endif %}" class="nav-link font-size-16" style="color: #67747c !important;">پیشنهاد بروبیا</a>
                                    </li>

                                    <li class="nav-item">
                                        <a href="?{% if request.GET.page %}{% if page.has_next %}page={{ page.next_page_number }}{% endif %}{% if page.has_previous %}page={{ page.previous_page_number }}{% endif %}{% endif %}&sort_select=expensive{% if request.GET.date %}&date={{ request.GET.date }}{% endif %}{% if request.GET.passengers %}&passengers={{ request.GET.passengers }}{% endif %}{% if request.GET.children %}&children={{ request.GET.children }}{% endif %}{% if request.GET.room %}&room={{ request.GET.room }}{% endif %}{% if request.GET.facilities %}&facilities={{ request.GET.facilities }}{% endif %}" class="nav-link font-size-16" style="color: #67747c !important;">گران ترین</a>
                                    </li>

                                    <li class="nav-item">
                                        <a href="?{% if request.GET.page %}{% if page.has_next %}page={{ page.next_page_number }}{% endif %}{% if page.has_previous %}page={{ page.previous_page_number }}{% endif %}{% endif %}&sort_select=cheapest{% if request.GET.date %}&date={{ request.GET.date }}{% endif %}{% if request.GET.passengers %}&passengers={{ request.GET.passengers }}{% endif %}{% if request.GET.children %}&children={{ request.GET.children }}{% endif %}{% if request.GET.room %}&room={{ request.GET.room }}{% endif %}{% if request.GET.facilities %}&facilities={{ request.GET.facilities }}{% endif %}" class="nav-link font-size-16" style="color: #67747c !important;">ارزان ترین</a>
                                    </li>
                                    <li class="nav-item">
                                        <a href="?{% if request.GET.page %}{% if page.has_next %}page={{ page.next_page_number }}{% endif %}{% if page.has_previous %}page={{ page.previous_page_number }}{% endif %}{% endif %}&sort_select=stars{% if request.GET.date %}&date={{ request.GET.date }}{% endif %}{% if request.GET.passengers %}&passengers={{ request.GET.passengers }}{% endif %}{% if request.GET.children %}&children={{ request.GET.children }}{% endif %}{% if request.GET.room %}&room={{ request.GET.room }}{% endif %}{% if request.GET.facilities %}&facilities={{ request.GET.facilities }}{% endif %}" class="nav-link font-size-16" style="color: #67747c !important;">ستاره</a>
                                    </li>
                                    <li class="nav-item">
                                         <li class="nav-item">
                                        <a href="?{% if request.GET.page %}{% if page.has_next %}page={{ page.next_page_number }}{% endif %}{% if page.has_previous %}page={{ page.previous_page_number }}{% endif %}{% endif %}&sort_select=distance{% if request.GET.date %}&date={{ request.GET.date }}{% endif %}{% if request.GET.passengers %}&passengers={{ request.GET.passengers }}{% endif %}{% if request.GET.children %}&children={{ request.GET.children }}{% endif %}{% if request.GET.room %}&room={{ request.GET.room }}{% endif %}{% if request.GET.facilities %}&facilities={{ request.GET.facilities }}{% endif %}" class="nav-link font-size-16" style="color: #67747c !important;">فاصله</a>
                                    </li>
                                    </li>
                                    <li class="nav-item">
                                        <a href="?{% if request.GET.page %}{% if page.has_next %}page={{ page.next_page_number }}{% endif %}{% if page.has_previous %}page={{ page.previous_page_number }}{% endif %}{% endif %}&sort_select=alphabetical{% if request.GET.date %}&date={{ request.GET.date }}{% endif %}{% if request.GET.passengers %}&passengers={{ request.GET.passengers }}{% endif %}{% if request.GET.children %}&children={{ request.GET.children }}{% endif %}{% if request.GET.room %}&room={{ request.GET.room }}{% endif %}{% if request.GET.facilities %}&facilities={{ request.GET.facilities }}{% endif %}" class="nav-link font-size-16" style="color: #67747c !important;">الفبا</a>
                                    </li>

                                </ul>


                            </div>
                            <!-- End Nav Links -->

                            <!-- Tab Content -->
                            <div class="tab-content" id="pills-tabContent">
                                <div class="tab-pane fade" id="pills-three-example1" role="tabpanel" aria-labelledby="pills-three-example1-tab" data-target-group="groups">
                                    <ul class="d-block list-unstyled products-group prodcut-list-view">
                                        <li class="card mb-5 overflow-hidden">
                                            <div class="product-item__outer w-100">
                                                {% for hotel in page %}


                                                    {% include 'include/hotel-card-row.html' %}
                                                    {% if not forloop.last %}
                                                        <hr>
                                                    {% endif %}

                                                {% endfor %}
                                            </div>
                                        </li>
                                        
                                    </ul>
                                    <div id="no-result-pills" class="no-result">
                                        <img class="no-result-img" src="{% static 'img\home\no-result.jpg' %}" alt="">
                                        <span>هتلی یافت نشد</span>
                                    </div>
                                     <nav aria-label="پیمایش صفحه">
                                        <ul class="list-pagination-1 pagination border border-color-4 rounded-sm overflow-auto overflow-xl-visible justify-content-md-center align-items-center py-2 mb-0">
                                            {% if page.has_previous %}
                                                <li class="page-item">
                                                    <a class="page-link border-right rounded-0 text-gray-5" href="?page={{ page.previous_page_number }}{% if request.GET.sort_select %}&sort_select={{ request.GET.sort_select }}{% endif %}{% if request.GET.date %}&date={{ request.GET.date }}{% endif %}{% if request.GET.passengers %}&passengers={{ request.GET.passengers }}{% endif %}{% if request.GET.children %}&children={{ request.GET.children }}{% endif %}{% if request.GET.room %}&room={{ request.GET.room }}{% endif %}{% if request.GET.facilities %}&facilities={{ request.GET.facilities }}{% endif %}" aria-label="قبلی">
                                                        <i class="flaticon-left-direction-arrow font-size-10 font-weight-bold"></i>

                                                        <span class="sr-only">قبلی</span>
                                                    </a>
                                                </li>
                                            {% endif %}

                                            {% for p in page.paginator.page_range %}
                                                <li class="page-item {% if p == page.number %}active{% endif %}">
                                                    <a class="page-link font-size-14 {% if p == page.number %}text-warning{% endif %}" href="?page={{ p }}{% if request.GET.sort_select %}&sort_select={{ request.GET.sort_select }}{% endif %}{% if request.GET.date %}&date={{ request.GET.date }}{% endif %}{% if request.GET.passengers %}&passengers={{ request.GET.passengers }}{% endif %}{% if request.GET.children %}&children={{ request.GET.children }}{% endif %}{% if request.GET.room %}&room={{ request.GET.room }}{% endif %}{% if request.GET.facilities %}&facilities={{ request.GET.facilities }}{% endif %}">{{ p }}</a>
                                                </li>
                                            {% endfor %}

                                            {% if page.has_next %}
                                                <li class="page-item">
                                                    <a class="page-link border-left rounded-0 text-gray-5" href="?page={{ page.next_page_number }}{% if request.GET.sort_select %}&sort_select={{ request.GET.sort_select }}{% endif %}{% if request.GET.date %}&date={{ request.GET.date }}{% endif %}{% if request.GET.passengers %}&passengers={{ request.GET.passengers }}{% endif %}{% if request.GET.children %}&children={{ request.GET.children }}{% endif %}{% if request.GET.room %}&room={{ request.GET.room }}{% endif %}{% if request.GET.facilities %}&facilities={{ request.GET.facilities }}{% endif %}" aria-label="بعد">
                                                        <i class="flaticon-right-thin-chevron font-size-10 font-weight-bold"></i>

                                                        <span class="sr-only">بعد</span>
                                                    </a>
                                                </li>
                                            {% endif %}
                                        </ul>
                                    </nav>

                                </div>
                                <div class="tab-pane fade show active" id="pills-one-example1" role="tabpanel" aria-labelledby="pills-one-example1-tab" data-target-group="groups">
                                    <div id="hotel-list" class="row">
                                    {% if facilities|length > 0 %}
                                    {% for facility in facilities %}
                                        {% if facility.related == 'R' %}
                                            {% for room in rooms %}
                                                {% if not hotel_execution_status|get_execution_status:room.hotel %}
                                                    {% if facility in room.facilities.all %}
                                                        {% set_execution_status hotel_execution_status room.hotel %}
                                                        {% include 'include/hotel-card-room.html' %}
                                                    {% endif %}
                                                {% endif %}
                                            {% endfor %}
                                        {% elif facility.related == 'H' %}
                                            {% for hotel in page %}
                                                {% if not hotel_execution_status|get_execution_status:hotel %}
                                                    {% if facility in hotel.facilities.all %}
                                                        {% set_execution_status hotel_execution_status hotel %}
                                                        {% include 'include/hotel-card.html' %}
                                                    {% endif %}
                                                {% endif %}
                                            {% endfor %}
                                        {% endif %}
                                    {% endfor %}
                                    {% else %}
                                         {% for hotel in page %}
                                                {% include 'include/hotel-card.html' %}
                                        {% endfor %}
                                    {% endif %}
                                </div>
                                <div id="no-result" class="no-result">
                                    <img class="no-result-img" src="{% static 'img\home\no-result.jpg' %}" alt="">
                                    <span>هتلی یافت نشد</span>
                                </div>
                                   <nav aria-label="پیمایش صفحه">
                                        <ul class="list-pagination-1 pagination border border-color-4 rounded-sm overflow-auto overflow-xl-visible justify-content-md-center align-items-center py-2 mb-0">
                                            {% if page.has_previous %}
                                                <li class="page-item">
                                                    <a class="page-link border-right rounded-0 text-gray-5" href="?page={{ page.previous_page_number }}{% if request.GET.sort_select %}&sort_select={{ request.GET.sort_select }}{% endif %}{% if request.GET.date %}&date={{ request.GET.date }}{% endif %}{% if request.GET.passengers %}&passengers={{ request.GET.passengers }}{% endif %}{% if request.GET.children %}&children={{ request.GET.children }}{% endif %}{% if request.GET.room %}&room={{ request.GET.room }}{% endif %}{% if request.GET.facilities %}&facilities={{ request.GET.facilities }}{% endif %}" aria-label="قبلی">
                                                        <i class="flaticon-left-direction-arrow font-size-10 font-weight-bold"></i>

                                                        <span class="sr-only">قبلی</span>
                                                    </a>
                                                </li>
                                            {% endif %}

                                            {% for p in page.paginator.page_range %}
                                                <li class="page-item {% if p == page.number %}active{% endif %}">
                                                    <a class="page-link font-size-14 {% if p == page.number %}text-warning{% endif %}" href="?page={{ p }}{% if request.GET.sort_select %}&sort_select={{ request.GET.sort_select }}{% endif %}{% if request.GET.date %}&date={{ request.GET.date }}{% endif %}{% if request.GET.passengers %}&passengers={{ request.GET.passengers }}{% endif %}{% if request.GET.children %}&children={{ request.GET.children }}{% endif %}{% if request.GET.room %}&room={{ request.GET.room }}{% endif %}{% if request.GET.facilities %}&facilities={{ request.GET.facilities }}{% endif %}">{{ p }}</a>
                                                </li>
                                            {% endfor %}

                                            {% if page.has_next %}
                                                <li class="page-item">
                                                    <a class="page-link border-left rounded-0 text-gray-5" href="?page={{ page.next_page_number }}{% if request.GET.sort_select %}&sort_select={{ request.GET.sort_select }}{% endif %}{% if request.GET.date %}&date={{ request.GET.date }}{% endif %}{% if request.GET.passengers %}&passengers={{ request.GET.passengers }}{% endif %}{% if request.GET.children %}&children={{ request.GET.children }}{% endif %}{% if request.GET.room %}&room={{ request.GET.room }}{% endif %}{% if request.GET.facilities %}&facilities={{ request.GET.facilities }}{% endif %}" aria-label="بعد">
                                                        <i class="flaticon-right-thin-chevron font-size-10 font-weight-bold"></i>

                                                        <span class="sr-only">بعد</span>
                                                    </a>
                                                </li>
                                            {% endif %}
                                        </ul>
                                    </nav>

                                </div>

                            </div>
                            <!-- End Tab Content -->
                        </div>
                        <!-- Slick Tab carousel -->
                    </div>
                </div>
            </div>
        </main>
        <!-- ========== END MAIN CONTENT ========== -->
{% endblock %}
{% block footer %}
        {% include 'include/hotel-footer.html' %}
{% endblock %}
{% block javascript %}
        <!-- Page Preloader -->
        <!-- <div id="jsPreloader" class="page-preloader">
            <div class="page-preloader__content-centered">
                <div class="spinner-grow text-primary" role="status">
                    <span class="sr-only">Loading...</span>
                </div>
            </div>
        </div> -->
        <!-- End Page Preloader -->

        <!-- Go to Top -->
        <a class="js-go-to u-go-to-modern" href="#" data-position='{"bottom": 15, "right": 15 }' data-type="fixed" data-offset-top="400" data-compensation="#header" data-show-effect="slideInUp" data-hide-effect="slideOutDown">
            <span class="flaticon-arrow u-go-to-modern__inner"></span>
        </a>
        <!-- End Go to Top -->

        <style>

            .filter-hotel-list li{
                margin-bottom: 20px !important;
            }

            .nav.nav-tabs.justify-content-center.filter-hotel-list li {
                border-right: 1px solid #e7eaf3;
                padding-right: 15px;
                margin-right: 15px;
            }

            .filter-select{
                border: none;
                cursor: pointer;
                direction: rtl;
                padding: 10px;
            }

            .nav-item::before {
            content: "";
            position: absolute;
            bottom: 0;
            left: 100%;
            width: 0;
            height: 2px;
            background-color: #007BFF;
            transition: width 0.3s;
            }

            .nav-item:hover::before {
                width: 100%;
            }

            .page-link{
                display: inline-block !important;
                width: 100%;
                -webkit-transform: rotateX(0deg) !important;
                transform: rotateX(0deg) !important;
                padding: 10px !important;
            }

            .no-result{
                display: none;
                flex-direction: column;
                justify-content: center;
                align-items: center;
                width: 100%;
                margin-bottom: 50px;
            }

            .no-result-img{
                width: 470px;
                height: 470px;
            }

            .no-result span{
                font-size: 32px;
                font-weight: bold;
                color: #007BFF;
            }

            @media screen and (max-width: 465px) {
                .no-result-img{
                    width: 350px;
                    height: 350px;
                }
            }
            @media screen and (max-width: 350px) {
                .no-result-img{
                    width: 290px;
                    height: 290px;
                }
            }
        </style>

        <!-- JS Global Compulsory -->
        <script src="{% static 'vendor/jquery/dist/jquery.min.js' %}"></script>
        <script src="{% static 'vendor/jquery-migrate/dist/jquery-migrate.min.js' %}"></script>
        <script src="{% static 'vendor/popper.js/dist/umd/popper.min.js' %}"></script>
        <script src="{% static 'vendor/bootstrap/bootstrap.min.js' %}"></script>

        <!-- JS Implementing Plugins -->
        <script src="{% static 'vendor/hs-megamenu/src/hs.megamenu.js' %}"></script>
        <script src="{% static 'vendor/jquery-validation/dist/jquery.validate.min.js' %}"></script>
        <script src="{% static 'vendor/flatpickr/dist/flatpickr.min.js' %}"></script>
        <script src="{% static 'vendor/bootstrap-select/dist/js/bootstrap-select.min.js' %}"></script>
        <script src="{% static 'vendor/slick-carousel/slick/slick.js' %}"></script>
        <script src="{% static 'vendor/gmaps/gmaps.min.js' %}"></script>
        <script src="{% static 'vendor/ion-rangeslider/js/ion.rangeSlider.min.js' %}"></script>
        <script src="{% static 'vendor/custombox/dist/custombox.min.js' %}"></script>
        <script src="{% static 'vendor/custombox/dist/custombox.legacy.min.js' %}"></script>
        <script src="{% static 'vendor/malihu-custom-scrollbar-plugin/jquery.mCustomScrollbar.concat.min.js' %}"></script>

        <!-- JS MyTravel -->
        <script src="{% static 'js/hs.core.js' %}"></script>
        <script src="{% static 'js/components/hs.header.js' %}"></script>
        <script src="{% static 'js/components/hs.unfold.js' %}"></script>
        <script src="{% static 'js/components/hs.validation.js' %}"></script>
        <script src="{% static 'js/components/hs.show-animation.js' %}"></script>
        <script src="{% static 'js/components/hs.range-datepicker.js' %}"></script>
        <script src="{% static 'js/components/hs.selectpicker.js' %}"></script>
        <script src="{% static 'js/components/hs.range-slider.js' %}"></script>
        <script src="{% static 'js/components/hs.go-to.js' %}"></script>
        <script src="{% static 'js/components/hs.slick-carousel.js' %}"></script>
        <script src="{% static 'js/components/hs.quantity-counter.js' %}"></script>
        <script src="{% static 'js/components/hs.g-map.js' %}"></script>
        <script src="{% static 'js/components/hs.modal-window.js' %}"></script>
        <script src="{% static 'js/components/hs.malihu-scrollbar.js' %}"></script>

        <!-- JS Plugins Init. -->

        <!--JS Date Picker -->
        <script src="{% static 'js/date-picker/assets/js/moment.min.js' %}" type="text/javascript"></script>
        <script src="{% static 'js/date-picker/assets/js/moment-jalaali.js' %}"></script>
        <script src="{% static 'js/date-picker/assets/js/daterangepicker-fa-ex.js' %}"></script>

        <!-- Pagination -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.10.1/gsap.min.js"></script>

        <script>

            const hotelList = document.querySelector('#hotel-list');
            const noResult = document.querySelector('#no-result')
            const noResultPills = document.querySelector('#no-result-pills')
            if(hotelList.innerHTML.includes('div')){
                noResult.style.display = 'none'
                noResultPills.style.display = 'none'
            }else{
                noResult.style.display = 'flex'
                noResultPills.style.display = 'flex'
            }

        // Date Picker
        $(document).ready(function () {
        var night;
        var isRtl = true;
        var dateFormat = isRtl ? "jYYYY/jMM/jDD" : "YYYY/MM/DD";
        var dateFrom = false ? moment("") : undefined;
        var dateTo = false ? moment("") : undefined;
        var $dateRanger = $("#dateRangePicker");

        $dateRanger
          .daterangepicker({
            clearLabel: "Clear",
            autoUpdateInput: !!(dateFrom && dateTo),
            minDate: moment(),
            autoApply: true,
            opens: isRtl ? "left" : "right",
            locale: {
              separator: " - ",
              format: dateFormat,
            },
            startDate: dateFrom,
            endDate: dateTo,
            jalaali: isRtl,
            showDropdowns: true,
          })
          .on("apply.daterangepicker", function (ev, picker) {
            night = picker.endDate.diff(picker.startDate, "days");
            if (night > 0) {
              $(this).val(
                picker.startDate.format(dateFormat) +
                  " - " +
                  picker.endDate.format(dateFormat)
              );
            } else {
              $(this).val("");
            }
          });

        $(document).on(
          "mouseover",
          ".daterangepicker .calendar td",
          function () {
            var gagDate = $(this).attr("data-original-title");
            $(".date-hover").text("");
            $(".date-hover").text(gagDate);
          }
        );
      });

        const urlParams = new URLSearchParams(window.location.search);

            // خواندن مقدار پارامترها از URL با استفاده از نام پارامترها
            const dateValue = urlParams.get('date');
            const roomValue = urlParams.get('room');
            const passValue = urlParams.get('passengers');
            const childValue = urlParams.get('children');

            // اختصاص مقادیر به فیلدهای مربوطه
            document.getElementById('dateRangePicker').value = dateValue;
            document.getElementById('passInput').value = passValue;
            document.getElementById('childInput').value = childValue;
            document.getElementById('roomInput').value = roomValue;

            const roomInfoSpan = document.getElementById('roomInfo');
            roomInfoSpan.textContent = `${roomValue} اتاق - ${passValue} بزرگسال، ${childValue} خردسال`;
            const doneLink = document.querySelectorAll('.done-link');
    // اضافه کردن event listener به هر لینک
    doneLink.forEach(link => {
        link.addEventListener('click', function(event) {
            const Adult = document.getElementById('passInput').value;
        const Child = document.getElementById('childInput').value;
        const Room = document.getElementById('roomInput').value;

        const roomInfoSpan = document.getElementById('roomInfo');
            roomInfoSpan.textContent = `${Room} اتاق - ${Adult} بزرگسال، ${Child} کودک`;});});
            $(window).on('load', function () {



                // initialization of HSMegaMenu component
                $('.js-mega-menu').HSMegaMenu({
                    event: 'hover',
                    pageContainer: $('.container'),
                    breakpoint: 1199.98,
                    hideTimeOut: 0

                });

                // Page preloader
                setTimeout(function() {
                  $('#jsPreloader').fadeOut(500)
                }, 800);
            });

            $(document).on('ready', function () {
                // initialization of header
                $.HSCore.components.HSHeader.init($('#header'));

                // initialization of google map
                function initMap() {
                    $.HSCore.components.HSGMap.init('.js-g-map');
                }

                // initialization of unfold component
                $.HSCore.components.HSUnfold.init($('[data-unfold-target]'));

                // initialization of autonomous popups
                $.HSCore.components.HSModalWindow.init('[data-modal-target]', '.js-modal-window', {
                    autonomous: true
                });

                // initialization of show animations
                $.HSCore.components.HSShowAnimation.init('.js-animation-link');

                // initialization of datepicker
                $.HSCore.components.HSRangeDatepicker.init('.js-range-datepicker');

                // initialization of forms
                $.HSCore.components.HSRangeSlider.init('.js-range-slider');

                // initialization of select
                $.HSCore.components.HSSelectPicker.init('.js-select');

                // initialization of malihu scrollbar
                $.HSCore.components.HSMalihuScrollBar.init($('.js-scrollbar'));

                // initialization of quantity counter
                $.HSCore.components.HSQantityCounter.init('.js-quantity');

                // initialization of slick carousel
                $.HSCore.components.HSSlickCarousel.init('.js-slick-carousel');

                // initialization of go to
                $.HSCore.components.HSGoTo.init('.js-go-to');

            });

        document.getElementById('myForm').addEventListener('submit', function(event) {
                event.preventDefault(); // Prevent the form from submitting normally

                // Get the value entered by the user
                var searchValue = document.getElementById('searchInput').value;
                var dateValue = document.getElementById('dateRangePicker').value;
                var passValue = document.getElementById('passInput').value;
                var childValue = document.getElementById('childInput').value;
                var roomValue = document.getElementById('roomInput').value;

                // Create the URL with the search value
                const url = `${encodeURIComponent(searchValue)}?date=${encodeURIComponent(dateValue)}&passengers=${encodeURIComponent(passValue)}&children=${encodeURIComponent(childValue)}&room=${encodeURIComponent(roomValue)}`;

                // Redirect the user to the new URL
                window.location.href = url;


            });
        const hotelLinks = document.querySelectorAll('.hotel-link');

    // اضافه کردن event listener به هر لینک
    hotelLinks.forEach(link => {
        link.addEventListener('click', function(event) {
            event.preventDefault(); // جلوگیری از اجرای عملکرد پیش‌فرض لینک

            // اطلاعات مورد نیاز برای ارسال در URL
            var searchValue = document.getElementById('searchInput').value;
            var dateValue = document.getElementById('dateRangePicker').value;
            var passValue = document.getElementById('passInput').value;
            var childValue = document.getElementById('childInput').value;
            var roomValue = document.getElementById('roomInput').value;

            // Create the URL with the search value
            const url = `${link.getAttribute('href')}?date=${encodeURIComponent(dateValue)}&passengers=${encodeURIComponent(passValue)}&children=${encodeURIComponent(childValue)}&room=${encodeURIComponent(roomValue)}`;

            // Redirect the user to the new URL
            window.location.href = url;

        });
    });

    // minus and plus button
    const roomInput = document.querySelector('#roomInput')
    const guestInput = document.querySelector('#passInput')

    //logic for decreasing the number for room & adults amount reservation
    const minusBtns = document.querySelectorAll('.js-minuss')
    minusBtns.forEach((btn) => btn.addEventListener('click', () => btn.nextElementSibling.value = btn.nextElementSibling.value >= 2 ? +btn.nextElementSibling.value - 1 : btn.nextElementSibling.value ))
    
    //logic for increasing the number for room amount reservation
    const plusRoomBtn = document.querySelector('.js-pluss')
    plusRoomBtn.addEventListener('click', () => roomInput.value = roomInput.value < 4 ? +roomInput.value + 1 : roomInput.value )
    
    //logic for increasing the number for adults amount reservation
    const plusGuestBtn = document.querySelector('.guest-plus')
    plusGuestBtn.addEventListener('click', () => guestInput.value = guestInput.value < 6 ? +guestInput.value + 1 : guestInput.value )
        </script>
 {% endblock %}
